(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"./node_modules/element-ui/lib/progress.js":function(e,t,s){e.exports=function(e){var t={};function s(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(r,o,function(t){return e[t]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/dist/",s(s.s=119)}({0:function(e,t,s){"use strict";function r(e,t,s,r,o,n,i,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),r&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}s.d(t,"a",(function(){return r}))},119:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"el-progress",class:["el-progress--"+e.type,e.status?"is-"+e.status:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}],attrs:{role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===e.type?s("div",{staticClass:"el-progress-bar"},[s("div",{staticClass:"el-progress-bar__outer",style:{height:e.strokeWidth+"px"}},[s("div",{staticClass:"el-progress-bar__inner",style:e.barStyle},[e.showText&&e.textInside?s("div",{staticClass:"el-progress-bar__innerText"},[e._v(e._s(e.content))]):e._e()])])]):s("div",{staticClass:"el-progress-circle",style:{height:e.width+"px",width:e.width+"px"}},[s("svg",{attrs:{viewBox:"0 0 100 100"}},[s("path",{staticClass:"el-progress-circle__track",style:e.trailPathStyle,attrs:{d:e.trackPath,stroke:"#e5e9f2","stroke-width":e.relativeStrokeWidth,fill:"none"}}),s("path",{staticClass:"el-progress-circle__path",style:e.circlePathStyle,attrs:{d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0}})])]),e.showText&&!e.textInside?s("div",{staticClass:"el-progress__text",style:{fontSize:e.progressTextSize+"px"}},[e.status?s("i",{class:e.iconClass}):[e._v(e._s(e.content))]],2):e._e()])};r._withStripped=!0;var o={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(e){return["line","circle","dashboard"].indexOf(e)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(e){return e>=0&&e<=100}},status:{type:String,validator:function(e){return["success","exception","warning"].indexOf(e)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var e={};return e.width=this.percentage+"%",e.backgroundColor=this.getCurrentColor(this.percentage),e},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var e=this.radius,t="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(t?"":"-")+e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"-":"")+2*e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"":"-")+2*e+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var e=void 0;if(this.color)e=this.getCurrentColor(this.percentage);else switch(this.status){case"success":e="#13ce66";break;case"exception":e="#ff4949";break;case"warning":e="#e6a23c";break;default:e="#20a0ff"}return e},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(e){return"function"==typeof this.color?this.color(e):"string"==typeof this.color?this.color:this.getLevelColor(e)},getLevelColor:function(e){for(var t=this.getColorArray().sort((function(e,t){return e.percentage-t.percentage})),s=0;s<t.length;s++)if(t[s].percentage>e)return t[s].color;return t[t.length-1].color},getColorArray:function(){var e=this.color,t=100/e.length;return e.map((function(e,s){return"string"==typeof e?{color:e,progress:(s+1)*t}:e}))}}},n=s(0),i=Object(n.a)(o,r,[],!1,null,null,null);i.options.__file="packages/progress/src/progress.vue";var a=i.exports;a.install=function(e){e.component(a.name,a)};t.default=a}})},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/style-resources-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./src/components/DetailsLayout/InfoPanel.vue?vue&type=style&index=0&id=31c08fda&lang=stylus&scoped=true&":function(e,t,s){},"./src/components/DetailsLayout/InfoPanel.vue":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h-tab",{staticClass:"info-panel-container",attrs:{"tab-data":e.tabIndex}},[s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"char-base-info-container"},[s("div",{staticClass:"char-set-cv"},[s("div",{staticClass:"char-half-container"},[s("div",{staticClass:"image-inner",style:{backgroundImage:"url('"+e.setData[0].halfPic+"')"}})])]),e._v(" "),s("div",{staticClass:"info-painter-cv"},[s("content-slot",{staticClass:"info-painter-cv-item",attrs:{width:60,long:"","no-wrap":""}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v("画师")]),e._v(" "),s("div",{class:{"swiper-no-swiping":!e.short},attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.data.drawName)+"\n          ")])]),e._v(" "),s("content-slot",{staticClass:"info-painter-cv-item",attrs:{width:60,long:"","no-wrap":""}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v("CV")]),e._v(" "),s("div",{class:{"swiper-no-swiping":!e.short},attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.data.infoName)+"\n          ")])]),e._v(" "),s("div",{staticClass:"info-char-set-wrapper"},[s("f-s",{attrs:{"no-title":"",placement:"top-start",width:e.width,size:"90%",trigger:"click"}},[e.showSet?s("set-panel",{attrs:{id:e.id,"set-data":e.setData.concat(e.skins)}}):e._e(),e._v(" "),s("el-button",{staticStyle:{background:"rgba(255, 255, 255, 0.85)","margin-top":"10px"},attrs:{slot:"reference",size:"mini"},on:{click:function(t){e.showSet=!0}},slot:"reference"},[e._v("\n              立绘/皮肤\n              "),s("i",{staticClass:"el-icon-search"})])],1)],1)],1),e._v(" "),e._l(e.baseInfo,(function(t,r){return s("div",{key:t.storyTitle,staticClass:"info-base-container"},[s("div",{staticClass:"info-story-title"},[s("span",[s("b",[e._v(e._s(t.storyTitle))])])]),e._v(" "),s("div",{staticClass:"info-story-content-wrapper"},e._l(t.data,(function(t,o){var n=t[0],i=t[1];return s("div",{key:n,staticClass:"info-story-content"},[s("content-slot",{attrs:{long:"","no-wrap":!0,width:o<(0===r?7:5)?70:null,"long-content":7===o||0!==r&&5===o}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(n))]),e._v(" "),!e.short||7===o||0!==r&&5===o||i.length<6?s("div",{class:{"swiper-no-swiping":!e.short},attrs:{slot:"content"},slot:"content"},[e._v("\n                "+e._s(i)+"\n              ")]):s("h-tooltip",{attrs:{slot:"content",placement:"top",content:i},slot:"content"},[s("div",[e._v(e._s(i.slice(0,3))+"...")])])],1)],1)})),0)])}))],2),e._v(" "),s("div",{staticClass:"info-token-desc"},[s("content-slot",{attrs:{"long-content":"",width:145}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v("信物描述")]),e._v(" "),s("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.data.tokenDesc?e.data.tokenDesc:"无"))])])],1),e._v(" "),s("div",{staticClass:"info-story-wrapper"},e._l(e.data.storyTextAudio.slice(2),(function(t){return s("div",{key:t.storyTitle},[s("content-slot",{attrs:{width:145,"long-content":""}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("span",[e._v(e._s(t.storyTitle))])]),e._v(" "),s("div",{attrs:{slot:"content"},slot:"content"},e._l(t.stories,(function(t,r){return s("div",{key:r,staticClass:"info-story-content"},[""!==t.unLockParam?s("div",{staticClass:"info-story-content-unlock"},[s("span",[e._v("解锁需要好感：")]),e._v(" "),s("span",[e._v(e._s(e._f("unlockStr")(t.unLockParam)))])]):e._e(),e._v(" "),s("p",{class:{"swiper-no-swiping":!e.short},domProps:{innerHTML:e._s(e.changeText(t.storyText))}})])})),0)])],1)})),0)]),e._v(" "),s("div",{staticClass:"swiper-slide"},[s("div",{staticClass:"info-word-wrapper"},[e.short||e.isMobliePad?e._e():s("div",{staticClass:"swiper-no-swiping",staticStyle:{display:"flex","align-items":"center"}},[e.isMudrok?s("div",{staticClass:"exchange-voice"},[s("el-switch",{attrs:{"active-color":"#313131","active-text":"切换语音"},model:{value:e.isMudrokFlag,callback:function(t){e.isMudrokFlag=t},expression:"isMudrokFlag"}})],1):e._e(),e._v(" "),s("div",{staticStyle:{"padding-right":"10px"}},[s("span",[e._v("volume:")])]),e._v(" "),s("div",{staticStyle:{display:"inline-block",width:"100px"}},[s("el-slider",{attrs:{color:"#ca3e47","show-text":!1},on:{change:function(t){return e.voiceVolume=t}},model:{value:e.voiceVolume,callback:function(t){e.voiceVolume=t},expression:"voiceVolume"}})],1)]),e._v(" "),e._l(e.words,(function(t,r){return s("div",{key:t.charWordId,staticClass:"info-word"},[s("div",{staticClass:"info-word-audio"},[s("div",{staticClass:"info-word-audio-title"},[s("b",[e._v(e._s(t.voiceTitle))])]),e._v(" "),"--"!==e.data.infoName?[s("div",{staticClass:"info-word-audio-buttonn",on:{click:function(t){return e.playVoice(r)}}},[s("i",{staticClass:"el-icon-video-play"})]),e._v(" "),s("div",{staticClass:"info-word-audio-buttonn",on:{click:function(t){return e.pausePlayVoice(r)}}},[s("i",{staticClass:"el-icon-video-pause"})]),e._v(" "),e.currentVoice===r?s("audio-container",{ref:"word",refInFor:!0,attrs:{volume:e.voiceVolume,src:e.audioPath(t)}}):e._e()]:e._e()],2),e._v(" "),s("p",{class:{"swiper-no-swiping":!e.short},domProps:{innerHTML:e._s(e.changeVoice(t.voiceText))}},[e._v("\n          "+e._s(t.voiceText)+"\n        ")])])}))],2)])])};r._withStripped=!0;s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.regexp.constructor.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./theme/slider.css"),s("./theme/base.css");var o=s("./node_modules/element-ui/lib/slider.js"),n=s.n(o),i=(s("./theme/button.css"),s("./node_modules/element-ui/lib/button.js")),a=s.n(i),l=s("./src/utils/index.js"),c=s("./src/utils/listVer.js"),u=s("./node_modules/vue/dist/vue.min.js"),d=s.n(u),p=s("./node_modules/swiper/js/swiper.esm.js"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticStyle:{display:"inline-block",width:"100px"}},[s("el-progress",{attrs:{"show-text":!1,percentage:e.voicePercentage,color:"rgb(82, 82, 82)"}})],1),e._v(" "),s("audio",{ref:"word",staticClass:"info-word-audio-control",attrs:{id:"word",autoplay:!1,preload:"none",src:e.src},on:{timeupdate:function(t){return e.timeUpDate(t)},durationchange:function(t){return e.durationUpdate(t)}}},[s("span",[e._v("\n      Your browser doesn't support HTML5 audio. Here is a\n      "),s("a",{attrs:{href:e.src}},[e._v("link to the audio")]),e._v(" instead.\n    ")])])])};h._withStripped=!0;s("./theme/message.css");var f=s("./node_modules/element-ui/lib/message.js"),v=s.n(f),m=(s("./theme/progress.css"),s("./node_modules/element-ui/lib/progress.js")),_=s.n(m);d.a.use(_.a);var g={props:{src:{required:!0},volume:{default:100,type:Number}},data:()=>({voicePercentage:0,duration:30}),watch:{volume(e){this.$refs.word.volume=e/100}},mounted(){this.$refs.word.volume=this.volume/100},methods:{durationUpdate(e){e.target.duration!==1/0&&(this.duration=e.target.duration)},timeUpDate(e){try{this.voicePercentage=Math.min(e.target.currentTime/this.duration*100,100)}catch(e){v()(JSON.stringify(e))}},play(){this.$refs.word.play().catch(e=>{console.log(e),v.a.error("语音数据可能还没压缩上传，过一会再来听吧 | err : "+JSON.stringify(e))})},pause(){this.$refs.word.pause()}}},y=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),b=Object(y.a)(g,h,[],!1,null,null,null);b.options.__file="src/components/DetailsLayout/AudioContainer.vue";var w=b.exports,x=s("./src/components/Base/FullScreen.vue"),k=s("./src/components/Base/Tooltip/index.js"),C=s("./src/components/Base/SetPanel/index.js"),j=s("./src/components/Base/ContentSlot.vue"),S=s("./src/components/Base/Tab.vue"),P=s("./node_modules/vuex/dist/vuex.esm.js");function O(e,t,s,r,o,n,i){try{var a=e[n](i),l=a.value}catch(e){return void s(e)}a.done?t(l):Promise.resolve(l).then(r,o)}function T(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function D(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?T(Object(s),!0).forEach((function(t){I(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function I(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}p.d.use(p.c),d.a.use(a.a),d.a.use(n.a);var M={components:{AudioContainer:w,SetPanel:C.a,ContentSlot:j.a,HTooltip:k.a,FS:x.a,HTab:S.a},filters:{unlockStr(e){if(/;/.test(e)){var t=e.split(";");return"精英阶段".concat(t[0],", 等级").concat(t[1])}return e},filterColor:e=>e.replace(/<color (name=(.{7}))?>/g,"").replace(/<\/color>/g,"")},props:{data:{default:()=>({}),type:Object,required:!0},list:{required:!0,type:Array},words:{type:Array,required:!0},id:{type:String,required:!0}},data(){return{phases:1,showSet:!1,activeName:"人员档案",currentVoice:null,voicePercentage:0,voiceVolume:100,setWords:"char_002_amiya"!==this.id?["干员平时最常穿着的服装。虽然不一定比制服更实用，但是一定是干员最舒适的搭配之一","晋升后，经过调整的服装。根据干员的经验，对服装细节进行改进，针对一些作战环境进行了特化处理。在满足战斗需求的同时，最大程度还原各位干员熟悉的舒适穿着体验。"]:["阿米娅最常穿着的服装，过大的尺寸似乎暗示了这件衣服曾不属于她\n不少细节部分都经过手工改造，而时间的痕迹也多有残留。","阿米娅最常穿着的服装，过大的尺寸仿佛述说着这件衣服曾不属于她的事实。即便如此，她也仔细地打理着这件衣服，让它看起来就像新的一样。","衣服需要修补，\n伤痛需要弥合。"],activeSetPane:"default",path:c.c,isMobliePad:l.b.isMobliePad,width:Object(l.n)().width,tabIndex:[{label:"人员档案"},{label:"语音记录"}],sInstance:null,isMudrokFlag:!1}},computed:D({},Object(P.d)(["extraSkins","short"]),{isMudrok(){return"char_311_mudrok"===this.id},style:()=>l.b.ok?".png?x-oss-process=style/small-test":".png",skins(){return this.extraSkins?this.extraSkins.filter(e=>e.charId===this.id).map(e=>l.o.skins(e)):[]},setData(){return this.id?this.list.map(e=>({charSet:c.c+"char/set/"+this.id+"_"+e+".png",profile:c.c+"char/profile/"+this.id+(e-1?"_"+e:"")+this.style,halfPic:c.c+"char/halfPic/"+this.id+"_"+e+this.style,words:this.setWords[e-1]})):null},baseInfo(){if(this.data)return this.data.storyTextAudio.slice(0,2).map((e,t,s)=>{var{stories:r,storyTitle:o}=e,n=r.map(e=>{var{storyText:t}=e;return t}).map(e=>{for(var t,s=new RegExp("【(.+)】(.+)\\n","g"),r=[];null!=(t=s.exec(e));)r.push(t.slice(1,3));var o=/【(.{7})】\n?(.+)$/.exec(e);return o&&r.push(o.slice(1,3)),r})[0];return{data:Object(l.t)(n,(e,t)=>e[0].length<t[0].length),storyTitle:o}})}}),mounted(){this.setExtraSkins()},methods:D({},Object(P.c)(["setExtraSkins"]),{changeVoice(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=new RegExp("{@nickname}","g"),r="",o=0;null!=(e=s.exec(t));)r+=t.substring(o,e.index)+'<i style="color:#F49800; font-style: normal">阿凡提#001</i>',o=e.index+e[0].length;return r+=t.substring(o)},playVoice(e){var t,s=this;return(t=function*(){s.currentVoice=e,yield s.$nextTick(),s.$refs.word[0].play()},function(){var e=this,s=arguments;return new Promise((function(r,o){var n=t.apply(e,s);function i(e){O(n,r,o,i,a,"next",e)}function a(e){O(n,r,o,i,a,"throw",e)}i(void 0)}))})()},pausePlayVoice(e){if(e===this.currentVoice){var t=this.$refs.word;t[0]&&t[0].pause()}},audioPath(e){var t=this.isMudrokFlag?"#1":"";return c.c+"char/voice/"+this.id+encodeURIComponent(t)+"/"+e.voiceId+".mp3"},changeText:e=>e.replace(/(\n)/g,"<br />"),calPhases:e=>1===e?0:2===e?2:1})},V=(s("./src/components/DetailsLayout/InfoPanel.vue?vue&type=style&index=0&id=31c08fda&lang=stylus&scoped=true&"),Object(y.a)(M,r,[],!1,null,"31c08fda",null));V.options.__file="src/components/DetailsLayout/InfoPanel.vue";t.default=V.exports},"./src/components/DetailsLayout/InfoPanel.vue?vue&type=style&index=0&id=31c08fda&lang=stylus&scoped=true&":function(e,t,s){"use strict";var r=s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/style-resources-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./src/components/DetailsLayout/InfoPanel.vue?vue&type=style&index=0&id=31c08fda&lang=stylus&scoped=true&");s.n(r).a},"./theme/progress.css":function(e,t,s){}}]);